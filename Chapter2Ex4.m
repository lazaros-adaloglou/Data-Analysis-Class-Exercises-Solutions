%-Chapter-1-Exercise-4----------------------------------------------------------------------------------------------------------

%-Initialization----------------------------------------------------------------------------------------------------------------
format compact;
clc;
clear;
close all;
%-------------------------------------------------------------------------------------------------------------------------------

%-Calculate-X-Random-Numbers-from-Uniform-Distribution-[1,2]--------------------------------------------------------------------
k = 1000;
E = zeros(k, 1);
Ei = zeros(k, 1);
for n = 1:k 
    X = (2-1).*rand(k, 1) + 1;
    E(n) = 1/(sum(X)/size(X, 1));
    Xi = 1./X;
    Ei(n) = sum(Xi)/size(Xi, 1);
end
%-------------------------------------------------------------------------------------------------------------------------------

%-Plots-------------------------------------------------------------------------------------------------------------------------
figure(1);
subplot(3, 1, 1);
plot(1:n, E);
hold on;
plot(1:n, Ei);
legend('1/E[X]', 'E[1/X]');
title('Comparison of E[X] and 1/E[X] for X in (1, 2)');
%-------------------------------------------------------------------------------------------------------------------------------

%-Calculate-X-Random-Numbers-from-Uniform-Distribution-[0,1]--------------------------------------------------------------------
E = zeros(k, 1);
Ei = zeros(k, 1);
for n = 1:k 
    X = (1-0).*rand(k, 1) + 0;
    E(n) = 1/(sum(X)/size(X, 1));
    Xi = 1./X;
    Ei(n) = sum(Xi)/size(Xi, 1);
end
%-------------------------------------------------------------------------------------------------------------------------------

%-Plots-------------------------------------------------------------------------------------------------------------------------
subplot(3, 1, 2);
plot(1:n, E);
hold on;
plot(1:n, Ei);
legend('1/E[X]', 'E[1/X]');
title('Comparison of E[X] and 1/E[X] for X in (0, 1)');
%-------------------------------------------------------------------------------------------------------------------------------

%-Calculate-X-Random-Numbers-from-Uniform-Distribution-[-1,1]--------------------------------------------------------------------
E = zeros(k, 1);
Ei = zeros(k, 1);
for n = 1:k 
    X = (1-(-1)).*rand(k, 1) + (-1);
    E(n) = 1/(sum(X)/size(X, 1));
    Xi = 1./X;
    Ei(n) = sum(Xi)/size(Xi, 1);
end
%-------------------------------------------------------------------------------------------------------------------------------

%-Plots-------------------------------------------------------------------------------------------------------------------------
subplot(3, 1, 3);
plot(1:n, E);
hold on;
plot(1:n, Ei);
legend('1/E[X]', 'E[1/X]');
title('Comparison of E[X] and 1/E[X] for X in (-1, 1)');
disp('-----------------------------------------------------------------------------------------------------------------------');
disp('From the Figures we conclude that E[1/X] =! 1/E[X], and when the interval is [0, 1] or [-1, 1], 1/E[X] tends to');
disp('infinity when E[X] tends to zero or respectively for E[1/X] when 1/x tends to zero.');
disp('-----------------------------------------------------------------------------------------------------------------------');
%-------------------------------------------------------------------------------------------------------------------------------
